<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus #80 Route Tracker - Madison WI</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <div class="container">
        <header>
            <h1>üöå Madison Metro Route 80 Tracker</h1>
            <p class="subtitle">Real-time tracking for Bus Route 80</p>
        </header>

        <div class="controls">
            <button id="refreshBtn" class="btn btn-primary">üîÑ Refresh Route</button>
            <button id="toggleDirection" class="btn btn-secondary">‚ÜîÔ∏è Toggle Direction</button>
            <select id="stopSelector" class="stop-selector">
                <option value="">Select a stop...</option>
            </select>
        </div>

        <div class="info-panel">
            <div class="route-info">
                <h3>Route 80 Information</h3>
                <div class="route-details">
                    <p><strong>Direction:</strong> <span id="currentDirection">Eastbound</span></p>
                    <p><strong>Next Stop:</strong> <span id="nextStop">Loading...</span></p>
                    <p><strong>Estimated Arrival:</strong> <span id="eta">Calculating...</span></p>
                    <p><strong>Status:</strong> <span id="busStatus" class="status-active">Active</span></p>
                </div>
            </div>
            
            <div class="schedule-panel">
                <h4>Upcoming Departures</h4>
                <div id="scheduleList" class="schedule-list">
                    <div class="schedule-item">
                        <span class="time">3:15 PM</span>
                        <span class="stop">University Ave & Park St</span>
                    </div>
                    <div class="schedule-item">
                        <span class="time">3:30 PM</span>
                        <span class="stop">East Towne Mall</span>
                    </div>
                    <div class="schedule-item">
                        <span class="time">3:45 PM</span>
                        <span class="stop">American Pkwy & Stoughton Rd</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="map-container">
            <div id="map"></div>
            <div class="map-legend">
                <div class="legend-item">
                    <span class="legend-icon bus-icon">üöå</span>
                    <span>Current Bus Location</span>
                </div>
                <div class="legend-item">
                    <span class="legend-icon stop-icon">üöè</span>
                    <span>Bus Stops</span>
                </div>
                <div class="legend-item">
                    <span class="legend-line route-line"></span>
                    <span>Route 80 Path</span>
                </div>
            </div>
        </div>

        <div class="alerts">
            <div id="serviceAlerts" class="alerts-container">
                <h4>üö® Service Alerts</h4>
                <div class="alert-item alert-info">
                    <p>Route 80 is operating on schedule with no current delays.</p>
                    <small>Last updated: <span id="lastUpdate">Just now</span></small>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>
